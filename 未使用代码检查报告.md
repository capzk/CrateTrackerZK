# 未使用代码检查报告

## 检查时间
2024-12-29

## 发现的未使用代码

### 1. Phase.lua - 未使用的 DT 函数

**位置**: `Modules/Phase.lua` 第 22-24 行

```lua
local function DT(key)
    return Logger:GetDebugText(key);
end
```

**状态**: 定义了但从未使用

**建议**: 删除此函数

---

### 2. Utils.lua - 未使用的工具函数

**位置**: `Utils/Utils.lua` 第 83-97 行

以下函数定义了但从未被调用：
- `Utils.PrintError(message)` - 第 83-85 行
- `Utils.Print(message)` - 第 87-89 行
- `Utils.SetDebugEnabled(enabled)` - 第 91-93 行
- `Utils.Debug(...)` - 第 95-97 行

**状态**: 定义了但从未使用

**建议**: 删除这些函数（如果需要，可以直接使用 Logger 模块）

---

### 3. Logger.lua - 已删除模块的引用

**位置**: `Utils/Logger.lua` 第 41 行

```lua
["DetectionState"] = "检测状态",
```

**状态**: DetectionState 模块已被删除，但仍在 MODULE_PREFIXES 中

**建议**: 删除此条目

---

### 4. Logger.lua - 未使用的 InfoLimited 函数

**位置**: `Utils/Logger.lua` 第 257-264 行

```lua
function Logger:InfoLimited(messageKey, module, func, interval, ...)
    local args = {...};
    if type(interval) == "number" then
        self:LogLimited(messageKey, Logger.LEVELS.INFO, module, func, interval, ...);
    else
        self:LogLimited(messageKey, Logger.LEVELS.INFO, module, func, 300, interval, ...);
    end
end
```

**状态**: 定义了但从未被调用

**建议**: 保留（可能用于未来扩展）或删除

---

### 5. Area.lua - 未使用的 DebugPrint 函数

**位置**: `Modules/Area.lua` 第 10-12 行

```lua
local function DebugPrint(msg, ...)
    Logger:Debug("Area", "调试", msg, ...);
end
```

**状态**: 定义了但从未使用

**建议**: ✅ 已删除

---

### 6. Notification.lua - DebugPrint 函数

**位置**: `Modules/Notification.lua` 第 11-13 行

**状态**: ✅ 正在使用（第 28 行调用）

**建议**: 保留

---

## 总结

### 已删除的未使用代码

1. ✅ `Modules/Phase.lua` - `DT` 函数（已删除）
2. ✅ `Utils/Utils.lua` - `Print`, `PrintError`, `SetDebugEnabled`, `Debug` 函数（已删除）
3. ✅ `Utils/Logger.lua` - MODULE_PREFIXES 中的 "DetectionState" 条目（已删除）
4. ✅ `Modules/Area.lua` - `DebugPrint` 函数（已删除）

### 保留的代码

1. ✅ `Modules/Notification.lua` - `DebugPrint` 函数（正在使用，第 28 行）
2. ⚠️ `Utils/Logger.lua` - `InfoLimited` 函数（保留用于未来扩展）

---

## 清理结果

✅ **已成功清理 4 处未使用的代码**

清理效果：
- ✅ 减少代码体积
- ✅ 提高代码可读性
- ✅ 避免混淆
- ✅ 保持代码整洁

所有修改已通过语法检查，无错误。

